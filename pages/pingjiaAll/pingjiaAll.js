let data = {
  "code": "0",
  "data": {
    "dataList": [
      {
        "attachPictureList": [],
        "cargoCode": 517,
        "cargoSpec": "颜色:橘色;尺码:38码",
        "clerkCode": 0,
        "createTime": "2018-09-06 14:36:20",
        "discussionCode": 50,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 4
      },
      {
        "attachPictureList": [
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg",
          "http://image-paile.paile8.com/ios/evaluate01153605333600000000image/5556T889M5RTWIXNY2018090417295609.jpg"
        ],
        "cargoCode": 517,
        "cargoSpec": "颜色:橘色;尺码:38码",
        "clerkCode": 0,
        "createTime": "2018-09-04 17:30:01",
        "discussionCode": 49,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 4
      },
      {
        "attachPictureList": [],
        "cargoCode": 517,
        "cargoSpec": "颜色:白色;尺码:38码",
        "clerkCode": 0,
        "createTime": "2018-09-04 10:53:54",
        "discussionCode": 48,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 1
      },
      {
        "attachPictureList": [],
        "cargoCode": 578,
        "cargoSpec": "颜色:黄色;尺寸:L",
        "clerkCode": 0,
        "createTime": "2018-09-03 15:45:10",
        "discussionCode": 47,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 4
      },
      {
        "attachPictureList": [],
        "cargoCode": 578,
        "cargoSpec": "颜色:黄色;尺寸:L",
        "clerkCode": 0,
        "createTime": "2018-09-03 15:43:37",
        "discussionCode": 46,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 2
      },
      {
        "attachPictureList": [],
        "cargoCode": 578,
        "cargoSpec": "颜色:红色;尺寸:XXL",
        "clerkCode": 0,
        "createTime": "2018-09-03 14:11:50",
        "discussionCode": 45,
        "nickname": "拍乐网",
        "subject": "您好",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 4
      },
      {
        "attachPictureList": [
          "http://image-paile.paile8.com/ios/evaluate01153595490400000000image/555WY5V9KEGAANC3D2018090314094309.jpg"
        ],
        "cargoCode": 578,
        "cargoSpec": "颜色:黄色;尺寸:L",
        "clerkCode": 0,
        "createTime": "2018-09-03 14:09:45",
        "discussionCode": 44,
        "nickname": "拍乐网",
        "subject": "您好",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 5
      },
      {
        "attachPictureList": [],
        "cargoCode": 517,
        "cargoSpec": "颜色:黑色;尺码:37码",
        "clerkCode": 0,
        "createTime": "2018-09-03 10:14:08",
        "discussionCode": 43,
        "nickname": "拍乐网",
        "subject": "123366",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 1
      },
      {
        "attachPictureList": [
          "http://image-paile.paile8.com/ios/evaluate02153570038500000000image/55441KAE4VV7RS6E42018090309513609.jpg",
          "http://image-paile.paile8.com/ios/evaluate02153570038500000000image/55441KAE4VV7RS6E42018090309513609.jpg"
        ],
        "cargoCode": 577,
        "cargoSpec": "颜色:黄色",
        "clerkCode": 0,
        "createTime": "2018-09-03 09:51:44",
        "discussionCode": 42,
        "nickname": "拍乐网",
        "subject": "12338755咯啊斯里兰卡就哭了",
        "usefullCount": 1,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 1
      },
      {
        "attachPictureList": [],
        "cargoCode": 577,
        "cargoSpec": "颜色:黄色",
        "clerkCode": 0,
        "createTime": "2018-09-03 09:49:32",
        "discussionCode": 41,
        "nickname": "拍乐网",
        "subject": "",
        "usefullCount": 0,
        "userCode": 99,
        "userIcon": "http://thirdwx.qlogo.cn/mmopen/vi_32/q18KPCn1muib5kdpJ4fGIsdQ0DdfxyvbaTiaf0PNElrGDt3zLibXwic3mabzHRssfRWVht1Bf7fRj3liaicjX3OQ7WsA/132",
        "wholeStar": 1
      }
    ],
    "pageNumber": 1,
    "pageSize": 10,
    "totalData": 50,
    "totalPage": 5
  },
  "message": "success",
  "success": true
};

Page({
  data: {
    toggleNum: 1,
    pjAllList: [],
    pjimageList: [],
    pjtextList: [],
    pjgoodList: [],
    pjmiddleList: [],
    pjbadList: [],
  },
  onReady: function () {
    wx.hideLoading();
    this.setList(1);

  },
  toggle(e) {
    this.setData({
      toggleNum: e.currentTarget.dataset.num
    })
    this.setList(e.currentTarget.dataset.num);
  },
  /**
   * @description 判断tab index 进行分类获取评价的详情
   * @param {number} num 请求的tab的index 
   */
  setList(num) {
    switch (parseInt(num)) {
      case 1: 
        if(this.data.pjAllList.length == 0){
          this.getAllList()
        }; break;
      case 2:
        if (this.data.pjimageList.length == 0) {
          this.getimageList()
        }; break;
      case 3: if (this.data.pjtextList.length == 0) {
        this.gettextList();
      }; break;
      case 4: if (this.data.pjgoodList.length == 0) {
        this.getgoodList();
      }; break;
      case 5: if (this.data.pjmiddleList.length == 0) {
        this.getmiddleList();
      }; break;
      case 6: if (this.data.pjbadList.length == 0) {
        this.getbadList();
      }; break;
    }
    // 请求获取数据
  },
  /**
   * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
   * @return false
   * 
   */

  getAllList() {

    this.setData({
      pjAllList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },
  /**
 * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
 * @return false
 * 
 */

  getimageList() {

    this.setData({
      pjimageList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },
  /**
 * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
 * @return false
 * 
 */

  gettextList() {

    this.setData({
      pjtextList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },
  /**
 * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
 * @return false
 * 
 */

  getgoodList() {

    this.setData({
      pjgoodList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },
  /**
 * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
 * @return false
 * 
 */

  getmiddleList() {

    this.setData({
      pjmiddleList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },
  /**
 * @description 获取当前商品的所有类目的评价(需要一个变量获取当前的类目是第几页)
 * @return false
 * 
 */

  getbadList() {

    this.setData({
      pjbadList: data.data.dataList
    }, () => {
      // 在这里进行判断 用来确定是否下一次还可以继续加载
    })
  },

})